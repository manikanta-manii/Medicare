<style>
  .img-custom {
    height: 200px;
    width: 200px;
  }
</style>

<%= javascript_include_tag "quantity_selector" %>

<table>
  <thead>
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Description</th>
      <th>Dosage</th>
      <th>Price</th>
      <th>Prescription Needed</th>
      <th>Quantity</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @medicines.each do |med| %>
      <tr>
        <td><%= image_tag med.image.attached? ? url_for(med.image) : 'avatars/default_avatar.png', class: "img-custom" %></td>
        <td><%= med.name %></td>
        <td><%= med.description %></td>
        <td><%= med.dosage %></td>
        <td><%= med.price %></td>
        <td><%= med.need_prescription %></td>
        <% if if_medicine_exist(med.id) %>
                <td><button class="btn btn-success disabled"> Added to cart </button></td>
        <% else %>
        <td><%= button_to "ADD TO CART ", order_items_path, method: :post, class: "add-button btn btn-info", params: { medicine_id: med.id , price: med.price}%></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>